@tailwind base;
@tailwind components;
@tailwind utilities;

/* Minimal theme variables for used classes */
:root {
  --primary-gradient: linear-gradient(
    135deg,
    #6366f1 0%,
    #a855f7 50%,
    #ec4899 100%
  );
  --glass-bg: rgba(255, 255, 255, 0.1);
  --glass-bg-hover: rgba(255, 255, 255, 0.15);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-hover: rgba(255, 255, 255, 0.3);
  --glass-backdrop: blur(12px);
  --text-primary: rgba(255, 255, 255, 0.9);
  --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.1);
  --shadow-glass-hover: 0 12px 40px rgba(0, 0, 0, 0.15);
  --transition-standard: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  --color-green: rgb(16 185 129 / 0.25);
}

.btn-glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-backdrop);
  border: 1px solid var(--glass-border);
  color: var(--text-primary);
  transition: var(--transition-standard);
  box-shadow: var(--shadow-glass);
}

.btn-glass:hover {
  background: var(--glass-bg-hover);
  border-color: var(--glass-border-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-glass-hover);
}

.btn-primary {
  background: var(--primary-gradient);
  color: white;
  transition: var(--transition-standard);
  box-shadow: var(--shadow-glass);
}

.btn-primary:hover {
  background: var(--primary-gradient-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-glass-hover);
}

/* Additional utility classes */
.text-glass {
  color: var(--text-primary);
}

.text-glass-secondary {
  color: var(--text-secondary);
}

.border-glass {
  border-color: var(--glass-border);
}

/* Critical styles for immediate rendering */
html,
body {
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    sans-serif;
  font-synthesis: none;
  text-rendering: optimizeSpeed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow: hidden;
  height: 100vh;
}

/* Ensure immediate text rendering */
h1,
h2,
h3,
p {
  font-display: swap;
  will-change: auto;
}

/* Critical layout utilities */
.text-8xl {
  font-size: 6rem;
  line-height: 1;
  font-weight: 700;
  will-change: auto;
  contain: layout style paint;
}

/* Piano Loading Animations */
@keyframes piano-key {
  0% {
    transform: translateY(0) rotateX(0deg);
  }
  25% {
    transform: translateY(8px) rotateX(5deg);
    background-color: #f3f4f6;
  }
  50% {
    transform: translateY(4px) rotateX(2deg);
  }
  100% {
    transform: translateY(0) rotateX(0deg);
  }
}

@keyframes piano-key-black {
  0% {
    transform: translateY(0) rotateX(0deg);
  }
  25% {
    transform: translateY(6px) rotateX(3deg);
    background-color: #4b5563;
  }
  50% {
    transform: translateY(3px) rotateX(1deg);
  }
  100% {
    transform: translateY(0) rotateX(0deg);
  }
}

@keyframes loading-bar {
  0% {
    width: 0%;
  }
  100% {
    width: 100%;
  }
}

@keyframes float-note {
  0% {
    transform: translateY(100vh) translateX(0px);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) translateX(50px);
    opacity: 0;
  }
}

@keyframes float-note-reverse {
  0% {
    transform: translateY(-100px) translateX(0px);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) translateX(-50px);
    opacity: 0;
  }
}

@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply animations */
.animate-piano-key {
  animation: piano-key 0.8s ease-out;
}

.animate-piano-key-black {
  animation: piano-key-black 0.8s ease-out;
}

.animate-loading-bar {
  animation: loading-bar linear;
}

.animate-float-note {
  animation: float-note linear infinite;
}

.animate-float-note-reverse {
  animation: float-note-reverse linear infinite;
}

.animate-blob {
  animation: blob 7s infinite;
}

.animate-fade-in {
  animation: fade-in 1s ease-out;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Debug mode enhancements */
@keyframes pulse-debug {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.02);
  }
}

@keyframes glow-border {
  0%,
  100% {
    box-shadow: 0 0 5px rgba(147, 51, 234, 0.3);
  }
  50% {
    box-shadow:
      0 0 20px rgba(147, 51, 234, 0.6),
      0 0 30px rgba(147, 51, 234, 0.4);
  }
}

@keyframes rainbow-border {
  0% {
    border-color: #ef4444;
  }
  16% {
    border-color: #f97316;
  }
  33% {
    border-color: #eab308;
  }
  50% {
    border-color: #22c55e;
  }
  66% {
    border-color: #3b82f6;
  }
  83% {
    border-color: #a855f7;
  }
  100% {
    border-color: #ef4444;
  }
}

.animate-pulse-debug {
  animation: pulse-debug 2s ease-in-out infinite;
}

.animate-glow-border {
  animation: glow-border 2s ease-in-out infinite;
}

.animate-rainbow-border {
  animation: rainbow-border 3s linear infinite;
}

/* Musical Notes Rain Animation */
@keyframes rain-drop {
  0% {
    transform: translateY(-200px) rotate(0deg);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translateY(calc(100vh + 100px)) rotate(180deg);
    opacity: 0;
  }
}

.animate-rain-drop {
  animation: rain-drop linear infinite;
  margin-top: -100px; /* Extra negative margin to start even higher */
}

/* Angular Material-inspired button styles */
.mat-button {
  @apply px-6 py-3 rounded-md border transition-all duration-200 flex items-center gap-2 uppercase tracking-wide;
  box-shadow:
    0 2px 4px -1px rgba(0, 0, 0, 0.2),
    0 4px 5px 0 rgba(0, 0, 0, 0.14),
    0 1px 10px 0 rgba(0, 0, 0, 0.12);
}

.mat-button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow:
    0 3px 5px -1px rgba(0, 0, 0, 0.2),
    0 6px 10px 0 rgba(0, 0, 0, 0.14),
    0 1px 18px 0 rgba(0, 0, 0, 0.12);
}

.mat-button:active:not(:disabled) {
  transform: translateY(0);
}

.music-page {
  width: 100vw;
  height: calc(100vh - 64px);
}
